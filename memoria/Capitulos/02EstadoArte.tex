%---------------------------------------------------------------------
%
%                          Capítulo 2
%
%---------------------------------------------------------------------

\chapter{Micro Generadores de ``Energy Harvesting'': Estado del arte}

%\begin{FraseCelebre}
%\begin{Frase}
%Television rules the nation
%\end{Frase}
%\begin{Fuente}
%Thomas \& Guy-Manuel, Daft Punk
%\end{Fuente}
%\end{FraseCelebre}

\begin{resumen}
A la hora de realizar cualquier proyecto es necesario realizar previamente un estudio del campo en el cual se va a trabajar para conocer sus puntos fuertes y débiles, saber donde se investiga y el estado actual para conocer la base sobre la que se va a empezar a trabajar.
\end{resumen}


%-------------------------------------------------------------------
\section{Introducción}
%-------------------------------------------------------------------
\label{cap2:sec:cognitiveRadio}
%-------------------------------------------------------------------

Del estudio del estado del campo de energy harvesting con generadores inerciales se obtienen resultados un tanto dispares, por un lado la simpleza de este tipo de generadores hace que la mayoría de los estudios disponibles carezcan de originalidad puesto que poco nuevo se puede investigar en un sistema conocido y estudiado desde hace mucho tiempo como es el de una lamina que vibra.
Por otro lado, están empezando a aparecer estudios que se centran en optimizar la eficiencia de estos generadores, ya sea amplificando su ancho de banda u optimizando el flujo magnético que atraviesa la bobina en función de los imanes, las posibles arquitecturas de construcción como puede ser la diferentes formas de colocar la bobina respecto al imán o incluso las distintas formas de construir una bobina.
Otras de las conclusiones que se han obtenido es la idea de frecuencia de resonancia. Para las laminas vibrantes, y en función de sus características físicas, existe una frecuencia a la cual la lamina transfiere toda la potencia de las vibraciones de su entorno. Esto se puede utilizar para, trabajando a esta potencia, transmitir la máxima potencia a un transductor y así transformar la máxima energía de vibración posible en energía eléctrica.

Dada la sencillez de este tipo de generadores, ya existen soluciones comerciales, aunque están poco depuradas en lo que a eficiencia se refiere siendo el principal problema de los generadores basados en vibraciones, la selección de la frecuencia de resonancia.
Por otro lado hay ciertos grupos de investigación en universidades como las que forman el consorcio EPSRC, universidad de southhampton, de newcastle, de bristol y el colegio imperial de londres \cite{epsrc}  que se dedican a desarrollar sistemas y estudios sobre energy harvesting.


%-------------------------------------------------------------------
\section{Soluciones comerciales}
%-------------------------------------------------------------------
\label{cap2:sec:cognitiveNetworks}
%-------------------------------------------------------------------
Actualmente existen soluciones comerciales de estos generadores
http://www.microstrain.com/energy-harvesting/harvesters
Microstrain produce dos tipos, electromagneticos y piezoelectricos. Estos generadores funcionan en el rango de 15-60Hz y su frecuencia de resonancia se puede fijar de forma manual antes del funcionamiento.
http://www.microgensystems.co/products.asp
Esta compañía produce unos microgeneradores de frecuencia fija, por lo que previamente a adquirirlo habría que caracterizar el entorno vibrante y encontrar la frecuencia a la que las vibraciones tienen mayor potencia.
http://www.innowattech.co.il/index.aspx (piezoelectrico)
Innowattech proporciona soluciones basadas en microgeneradores piezoeléctricos.
http://www.perpetuum.com/
Esta empresa que nacio como un spin-off de la universidad de southhampton se dedica a la comercializacion de generadores electromagneticos, cuya frecuencia de resonancia se puede fijar manualmente.      

 
%-------------------------------------------------------------------
\section{Wireless Sensor Networks}
%-------------------------------------------------------------------
\label{cap2:sec:wirelessSensorNetworks}
%-------------------------------------------------------------------

\begin{figure}[h]
\centering
%
\begin{SubFloat}
{\label{fig:cap2:wsn_router}%
\scriptsize{WSN using routers to link the gateway.}}%
\includegraphics[width=0.45\textwidth]%
{Imagenes/Vectorial/Capitulo2/wsn_router}%
\end{SubFloat}
\qquad
\begin{SubFloat}
{\label{fig:cap2:wsn_adhoc}%
\scriptsize{Ad-hoc WSN implementation.}}%
\includegraphics[width=0.45\textwidth]%
{Imagenes/Vectorial/Capitulo2/wsn_adhoc}%
\end{SubFloat}
\caption[Possible WSN implementations.]{Possible WSN implementations, obtained from \cite{ramipfg}.}
\label{fig:cap2:wsn}
\end{figure}

A \ac{WSN} consists of spatially distributed autonomous ``nodes'' not relying on a pre-existing communication infrastructure,  to monitor physical or environmental conditions. The number of nodes vary from a few to several hundreds or even thousands, where each node is connected to one (or sometimes several) sensors. Nodes are generally simple and low-resource embedded systems with high cost and size constraints. These constraints result in corresponding constraints on resources such as energy, memory, computational speed and communications bandwidth. The usual architecture of a node is
divided in:

\begin{itemize}
\item \emph{Sensing subsystem}. Responsible for sensing physical parameters of the environment. Typical monitored parameters are temperature,
	sound, light, humidity, vibrations, pressure, movement, presence, and body registers.
\item \emph{Computational subsystem}. It process the information obtained by the sensors, controls all general operations of the node, and runs the desired application.  
\item \emph{Communication subsystem}. This carries through all the messages transmission and reception with neighbor nodes. The main goal is to make
	the information arrive to some destination, usually a gateway or storing node.
\item \emph{Power source}. It supplies the energy needed by the device to perform the programmed task. 
\end{itemize}

\figura{Bitmap/Capitulo2/wsnmodel}{width=.5\textwidth}{fig:WSNnodeModel}%
{WSN node general model}

The development of wireless sensor networks was motivated by military applications such as battlefield surveillance; today such networks are used in a wide range of applications and they are considered to be the main technology to develop intelligent ambiances:

\begin{itemize}
 \item	\emph{Industrial Monitoring}. \ac{WSN} are applied mainly for machine health monitoring, water quality or management, and industrial sense
         and control applications avoiding wire deployment.

 \item	\emph{Structural Health Monitoring}. Distributed sensors over infrastructure such as bridges, tunnels or buildings help to collect data to 			prevent damages or problems deviated from load excess, weather, vibrations or stress. 

 \item	\emph{e-Health}. It presents new uses for \ac{WSN} to sense body parameters and observe behavioral patterns.
	These networks are used to detect or prevent occupational and home accidents, to improve diagnoses, monitoring sick people and other
	medical uses.

 \item	\emph{Environmental monitoring}. Applications regarding this field are diverse. Air quality monitoring, air pollution monitoring, forest 		fire detection, landslide detection, water quality monitoring or natural disaster prevention are some of the common uses.

 \item	\emph{Smart home monitoring}. Monitoring the activities performed in a smart home is achieved using wireless sensors embedded within 		everyday objects. State changes are captured by the \ac{WSN} enabling activity-support services.

 \item  \emph{Passive localization and tracking}. Applications oriented to detect where some\-thing took place or track presences over an area.

 \item  \emph{Agriculture}. Commonly used on greenhouses where irrigation management and ambient control is essential for a proper accurate
	agriculture.

 \item	\emph{Security and surveillance}. Deployed to detect unauthorized intrusions.


\end{itemize}

Some of the main properties affecting \ac{WSN} are: 

\begin{itemize}
\item \emph{Dynamic topology}. In a \ac{WSN} it is common to suffer drops or rises in the number of nodes, or changes over the environment that affects the topology. Nodes must be able to adapt themselves to new topologies to enable operative communications. On the same way, topologies must be scalable since a network might have tens of nodes or hundred of them, in come cases even mobile ones.

\item \emph{Autonomous operation}. A \ac{WSN} does not need any infrastructure to operate. Its nodes act as information transmitters, receivers or routers. However, it usually exists a gateway which gathers all the information over the network and passes it to another device. 

\item \emph{Multihop or broadcast communications}. It is common the use of some protocol to enable multi hop messaging. Nevertheless, broadcasting
	 is also very expanded.

\item \emph{Power consumption}. One of the most important factors. Using a very constrained amount of energy, devices must achieve a tradeoff between autonomy and throughput. Normally, nodes are supplied with batteries which allow their autonomy. Hence, a \ac{WSN} node must meet a low-consumption microcontroller, as well as an equally featured \ac{RI} and software. 

\item \emph{Hardware constraints}. In order to achieve a low power consumption and cost, it is essential for the hardware to be as straightforward as possible, resulting in a very constrained functionality.

\item \emph{Size}. Nodes tend to be small in size since it is used to be needed a large amount of them. Most of the time, they are intended to be encrusted into the environment and to be transparent to the users. 

\item \emph{Production costs}. Since \ac{WSN}s nature implies having a high number of nodes to be trustable, production of large amounts of them must provide a cheap unitary price.

\end{itemize}


Most important communication technologies and protocols for \ac{WSN} are based on the \ac{IEEE} 802.15.4 \cite{wpanieee} standard for \ac{WPAN}.
The standard goal is a low-power communication among nearby devices without underlying infrastructure. The standard only defines \ac{MAC} and
\ac{PHY} layers of the \ac{OSI} model. Some expanded protocols based on the standard are ZigBee$^{TM}$ \cite{zigbee}, WirelessHART \cite{hart}, ISA100.11 \cite{isa}, or MiWi$^{TM}$ \cite{miwi} specifications. Another popular communication standard is \ac{IEEE} 802.11 \cite{802.11}, in which is based Wi-Fi \cite{wifi}. It is a \ac{IP} standard based on the final user and does not meet low-consumption constraints, however, convergence towards full \ac{IP} has brought new standards such as \ac{6LOWPAN} \cite{6lowpan}, that enables \ac{IP} packeting over 802.15.4 based-on networks.

\begin{figure}[h]
\centering

\subfloat[ISA100.11 logo.]{\label{fig:cap2:isa100}\includegraphics[width=0.18\textwidth]{Imagenes/Vectorial/Capitulo2/isalogo}}%
\quad
\subfloat[Wi-Fi logo.]{\label{fig:cap2:wifi}\includegraphics[width=0.18\textwidth]{Imagenes/Vectorial/Capitulo2/wifi}}%
\quad
\subfloat[ZigBee logo.]{\label{fig:cap2:zigbee}\includegraphics[width=0.18\textwidth]{Imagenes/Vectorial/Capitulo2/zigbee}}%
\\
\subfloat[WirelessHART logo.]{\label{fig:cap2:hart}\includegraphics[width=0.3\textwidth]{Imagenes/Vectorial/Capitulo2/hart}}%
\quad
\subfloat[MiWi logo.]{\label{fig:cap2:miwi}\includegraphics[width=0.3\textwidth]{Imagenes/Vectorial/Capitulo2/miwi}}%

\caption{Common WSN protocols.}
\label{fig:cap2:wsnprotocols}
\end{figure}

%-------------------------------------------------------------------
\section{Cognitive Wireless Sensor Networks}
%-------------------------------------------------------------------
\label{cap2:sec:cognitiveWirelessSensorNetworks} 
%-------------------------------------------------------------------

Basically, \ac{CR} and \ac{CN} techniques applied into \ac{WSN}s leads to \ac{CWSN}s. This idea supposes an increment of complexity over the executed algorithms and it overloads the control data flow over the network. Cognitive agents capable of making proactive decisions may help achieve end-to-end goals, while \ac{CR} at the physical layer of such agents may enable the opportunistic use of the heterogeneous wireless environment.

\ac{CWSN}s arise as a natural evolution of traditional \ac{WSN}s since \ac{IEEE} standards used in \ac{WSN}s already postulate access to several spectrum bands. Additionally, \ac{QOS} and low-consumption requirements that \ac{WSN}s state, fits the goals of \ac{CR}.

Currently, most of \ac{WSN} use the \ac{IEEE} 802.15.4 standard for their communications, thereby their \ac{RF} activity takes place over \ac{ISM} bands. These bands, as introduced in Section \ref{cap1:sec:background}, show an overcrowded scene where \ac{CR} techniques might significantly help the network operation. Applying cognitive capabilities seeks intelligent adaptations based on learning, reasoning and information sharing among multiple nodes within the network.

Cognitive communication in a sensor network could not only help meet end-to-end goals of the entire network, but also increase reliability of the network, reduce maintenance costs and increase the network lifetime. Research in \cite{gamewsn}\cite{neuralcsn}\cite{crwsn}\cite{crbasedwsn} suggests the growing interest in applying cognitive techniques to \ac{WSN}s. The idea of a holistic approach to introducing cognition in heterogeneous sensor networks that combines the advantage of opportunistic spectrum access at the physical layer, with cognitive communication among sensor nodes seamlessly across the network promises to be advantageous over existing design techniques. Figure \ref{fig:comparisoncr} shows a performance comparison between a standard \ac{WSN} communicating over 2.4 GHz and a \ac{CR}-based one over a simulated scenario. 

\figuraEx{Bitmap/Capitulo2/comparisonCR}{width=.7\textwidth}{fig:comparisoncr}%
{Comparison of the number of hops per packet in a CWSN simulated scenario, described in \cite{crbasedwsn}.}{Comparison of the number of hops per packet in a CWSN simulated scenario.}

However, research efforts have been discrete and cognitive techniques have focused on improving specific aspects of the network or benefiting specific applications.

Vijai contributes \cite{cwsn} to \ac{CWSN} giving the vision and advantage of a holistic approach to cognition in sensor
networks. It also provides a framework based on knowledge and cognition.

In \cite{conbrok}, opportunities and trends arising from networks and nodes cooperation are mentioned. It is seen as a chance to improve
general features and dynamic adaptation capabilities. It proposes an implementation model based on agents carrying out basic functions 
and keeping a \ac{VCC}. This \ac{VCC} takes part on the \ac{KP} that agents use to exchange management messages.

On the other hand, applying cognitive techniques to increase knowledge in the system has several challenges: 

\begin{itemize}

\item Establishing the feasibility of integrating \ac{CR} into the \ac{DSA} \cite{dsa} scheme at the physical layer, along with cognition in upper layers to achieve end-to-end performance goals is an open research problem. 

\item For such networks to be justifiable, the performance improvement must outweigh the cost in terms of overhead, architecture, and operation. An analysis on the amount of energy expended at information sensing and communicating it to neighboring nodes is essential to establish the suitability of this approach. 

\item Since the available information to the network may be partial or incorrect, it may lead to security issues and hence, methods and techniques to deal with such issues must be also identified. 

\item The proposed cognitive nodes could be distributed in a fix or mobile way in the network, gathering information from remote locations of the sensor nodes. Hence, deciding on the optimal deployment architecture of the cognitive capability is also a challenging problem.

\item Protocols that define how the knowledge plane can be implemented, how to use it to make decisions at the physical layer, the cognitive specification language, and the tools used in cognitive decision making must all be standardized to make such networks interoperate.
\end{itemize}

All in all, this early-staged technology claims for investigations and research-enabling implementations such as standards, simulators and test-beds that allow further studies and conclusive results. 
 
%-------------------------------------------------------------------
\subsection{Current Implementations}
%-------------------------------------------------------------------
\label{cap2:sec:currentImplementations}
%-------------------------------------------------------------------

Because of the novel stage of this research field, there are not many specific devices to build applications and services over \ac{CWSN}s. Besides, current implementations find themselves very poorly featured yet, not responding researchers' requirements. It is natural that most works are based differently on \ac{WSN} and \ac{SDR}.

On the one hand, there are many different types of devices for \ac{WSN} platforms that share similar characteristics: low power, memory and processing constraints, and operation over ISM bands. Bean, BTnode, MANTIS Nymph, IMote, MicaZ, SenseNode, XYZ, Sentilla Mini, TelosB \cite{telosb}, ANT \cite{ant}, and EyesIFX \cite{eyes} are some of the most important WSN devices. But none of them have different \ac{RI}s and their radio reconfiguration capabilities are very limited.

On the other hand, many \ac{SDR} platforms have been developed to support individual research projects. Berkeley Cognitive Radio Platform \cite{bee2} (based around the BEE2\footnote{Berkeley Emulation Engine system is designed to be a modular, scalable FPGA-based computing platform}), OpenAirInterface \cite{openair} (proposed by the mobile communications department at EURECOM), NICT\footnote{Japanese National Institute of Information and Communications Technology} SDR platform \cite{nict}, the Kansas University Agile Radio (KUAR) \cite{kuar}, or the \ac{USRP} \cite{usrp2} are the most important ones.

In order to evaluate \ac{CWSN} models and architectures, great efforts developing simulators or adapting traditional simulators to new schemes took place. Nevertheless, test-beds allow to test real systems, obtaining data about consumption, radio transmission ranges, error rates and providing trustable feedbacks to improve simulators performance. Here it is made a review over existing software and hardware platforms.

%-------------------------------------------------------------------
\subsubsection{Software platforms - simulators}
%-------------------------------------------------------------------

Some of the most representative simulators are:

\begin{itemize}
\item \emph{NS2/NS3} \cite{ns2}. NS (\emph{Network Simulator}) is a discrete-event network simulator primarily used in teaching and research. It supports a large variety of multicast and unicast protocols for both wireless and wired networks. Intensively used in wireless mobile ad-hoc networks. NS simulators are developed mainly under C++ and Python languages and they are publicly available under the GNU GPLv2 license for research, development, and use.

\begin{figure}[!h]
\centering
%
\begin{SubFloat}
{\label{fig:cap2:ns2logo}%
\scriptsize{NS2 simulator logo.}}%
\includegraphics[width=0.3\textwidth]%
{Imagenes/Vectorial/Capitulo2/ns2logo}%
\end{SubFloat}
\qquad
\begin{SubFloat}
{\label{fig:cap2:ns3logo}%
\scriptsize{NS3 simulator logo.}}%
\includegraphics[width=0.3\textwidth]%
{Imagenes/Vectorial/Capitulo2/ns3logo}%
\end{SubFloat}
\caption{NS2 and NS3 simulators logo.}
\label{fig:cap2:nslogos}
\end{figure}

Currently, NS2 source code consists of many forks. Last version, from 2009, is partially maintained. It runs on GNU/Linux, FreeBSD, Solaris, Mac OS X and Windows 95/98/NT/2000/XP. 
NS3 would be written from scratch, not being compatible with NS2 generally. Development of NS3 began in July 2006. The first release, NS 3.1, was made in June 2008. Afterwards, the project continued making quarterly software releases, and more recently has moved to three releases per year. NS3 made its fifteenth release (ns-3.15) during the third quarter of 2012 and it is actively developed.

Libraries and packages for cognitive simulation \cite{ns21} exist for these simulators, however, models, parameters, and results are still quite poor and inaccurate.  

\item \emph{OMNeT++} \cite{omnet}. It is not a simulator itself but rather an extensible, modular, multi-platform, component-based C++ simulation library and framework. Instead of containing a real time cognitive radio environment for physical and link layer experiments and explicit support for computer networks or other areas, it provides the infrastructure for writing such simulations. OMNeT++ provides a component architecture for models. Components (modules) are programmed in C++, then assembled into larger components and models using a high-level language (NED). 

\figura{Vectorial/Capitulo2/omnetlogo}{width=.3\textwidth}{fig:omnetlogo}%
{OMNeT++ simulator logo.}

These models, most of them open source, are developed completely independently of OMNeT++, and follow their own release cycles. They cater for domain-specific functionalities, such as support for sensor networks, wireless ad-hoc networks, Internet protocols, performance modeling, photonic networks. There are extensions for real-time simulation, network emulation, alternative programming languages (Java, C\#), database integration, SystemC integration, and several other functions.

\item \emph{MiXiM} \cite{mixim}. It is an OMNeT++ modeling framework created for mobile and fixed wireless networks (\ac{WSN}s, body area networks, ad-hoc networks, vehicular networks, etc.). It offers detailed models of radio wave propagation, interference estimation, radio transceiver power consumption, and wireless MAC protocols. It is a merger of several OMNeT++ frameworks written to support mobile and wireless simulations. The predecessors of MiXiM are ChSim \cite{chsim}, Mobility Framework \cite{mobilityf}, Mac Simulator and Positif Framework \cite{macsim}.

\item \emph{Castalia} \cite{castalia}. It is a \ac{WSN} simulator based on OMNeT++ for early-phase algorithm/protocol testing built at the Networks and Pervasive Computing program of National ICT Australia since 2006. In 2007 it is made public as an open source project under the \ac{APL} license. The current release version is 3.2. It supports realistic channel and radio models, a key element for accurate early-phase \ac{WSN} simulation. It provides support for defining versatile physical processes for specific applications, since it is highly parametric, and can simulate a wide range of platforms. It also supports enhanced modeling of the sensing devices and other often-neglected attributes of a \ac{WSN} such as node clock drift\footnote{Clock drift refers to several related phenomena where a clock does not run at the exact right speed compared to another clock.}.

\figura{Vectorial/Capitulo2/castalialogo}{width=.3\textwidth}{fig:castalialogo}%
{Castalia simulator logo.}

\ac{CWSN} support in castalia was first proposed and developed by researchers from \ac{LSI} at \ac{UPM} in 2012 \cite{castaliacwsn}.

\item \emph{NetSim} \cite{netsim}. NetSim, firstly released in June 2002, is a stochastic discrete event simulator developed by Tetcos in association with Indian Institute of Science. This popular network simulation tool is used for network lab experimentation and research. Various technologies such as \ac{WSN}, Wireless LAN, WiMax, TCP, or IP are supported. NetSim comes with an in-built development environment, which serves as the interface between user's code and NetSim's protocol libraries and simulation kernel. Protocol libraries are available as open C code for user modification. 

\figura{Vectorial/Capitulo2/netsimlogo}{width=.3\textwidth}{fig:netsimlogo}%
{NetSim simulator logo.}

Some libraries available for NetSim enables \ac{CR} capabilities for simulations. However, these cognitive libraries are focused on applications for
802.22 WRAN based cognitive radio networks, which make this simulator undesirable for \ac{CWSN} scenarios.

\item \emph{\ac{SENDORA}} \cite{sendora}. SENDORA project developed in 2010 supposed a new approach of \ac{CR} called Sensor Network aided Cognitive Radio. This project was led by Thales, Eurecom, NTNU, Telenor, KTH, TKK, Universities of Rome, Valencia and Linköping. It was divided into 8 work packages that covered from to management activities to dissemination, passing through definition, integration, implementation and demonstrations activities. Developed software was based on the NS simulator and hardware implementations operated over VHDL language.

%http://www.sendora.eu/

\figura{Vectorial/Capitulo2/sendora_logo}{width=.3\textwidth}{fig:sendoralogo}%
{SENDORA simulator logo.}

The SENDORA project brought a high amount of papers and literature, nevertheless, the software developed has come shifted to the background because of other simulators. Regarding hardware implementations, carried out over \ac{FPGA}, revealed useful data but not realistic for \ac{WSN}s. Hence, simulations deployed do not use real device data for power models.

\end{itemize}

Several other simulators have been developed for \ac{WSN}. TOSSIM based on the TinyOS\footnote{TinyOS is a free and open source software component-based operating system and platform targeting \ac{WSN}s).} operative system, COOJA, OPNET, GloMoSim, JSim, NetSIm, or QualNet, all of them are simulators without cognitive features despite some approaches and efforts to create frameworks enabling them.

%-------------------------------------------------------------------
\subsubsection{Hardware platforms}
%-------------------------------------------------------------------
Nowadays there are not real devices for \ac{CWSN} applications yet. Current implementations respond to development platforms or test-beds, and still, variety of platforms is very scarce and poorly featured. Most of them suppose first approaches, so foundations to build over are still immature and quickly changing. Hence, efforts focused on hardware development, usually more costly than software, remain quiet.

The closest existing device to a \ac{CWSN} node is the \ac{FCD} \cite{fcd}\cite{ferpfc}, illustrated at Figure \ref{fig:fcdadapted}, developed at \ac{LSI} in 2011. The \ac{FCD} is based on a PIC32 Microchip \ac{MCU} and includes three \ac{RI}s enabling access to the 2.4 GHz and 868 MHz bands. MiWi and Wi-Fi protocols operate over 2.4 GHz and a proprietary protocol provided by \ac{AWD}\footnote{A spin-off originated at \ac{LSI}, oriented on solutions for energy efficiency, industrial control and intelligent environments.} operates over 868 MHz. The device gave the chance to develop and test algorithms, strategies and applications for \ac{CWSN}s. Moreover, it allowed to analyze suitability for \ac{RI}s, computing capability and other components. It gave the strengths and weaknesses to establish the fundamentals on future designs. Nevertheless, the device was just a first approach and it was still far to be a stable valuable test-bed platform. The node did not fully satisfy requirements in terms of low power consumption, cost and size, and communication capabilities \cite{juanpfc}.

Consecutively, new hardware and software modules were incorporated to expand its features. These modules included a expansion board \cite{guillepfc} to try new transceivers together with an optimized \ac{CWSN} oriented firmware and a cognitive software module. This new modules claim for a new design integrating together all of them at one single module, fixing detected weaknesses and adding new or improved features. 

\figuraEx{Bitmap/Capitulo2/fcdadapted}{width=.5\textwidth}{fig:fcdadapted}%
{Picture of the expanded First Cognitive Device, obtained from \cite{juanpfc}.}{Picture of the expanded First Cognitive Device.}

On the other hand, some other existing devices that share common features with standard \ac{WSN} nodes have supposed an approach to \ac{CWSN}s. The most important devices whose features frame them into the \ac{CWSN}s are here described:
\begin{itemize}

\item \emph{VESNA} \cite{vesna}. It is a modular and fully flexible platform, implemented by SensorLab at Jozef Stefan Institute \cite{sensorlab}, for \ac{WSN} development. Based on a high-performance microcontroller with ARM Cortex-M3 core and \ac{RI} spanning over multiple ISM frequency bands, it is designed to meet the requirements of diverse applications. In terms of modularity, the platform consists of the VESNA core module and a set of special feature modules (sensor node radio - SNR, sensor node expansion - SNE, sensor node power - SNP) that are used as/if needed. Various peripherals including \ac{UART}, \ac{I2C}, \ac{SPI}, \ac{USB}, \ac{ADC} and \ac{DAC} allow hosting of different sets of sensors and/or actuators.The platform readily supports:
\begin{itemize}
    \item Communication standards \ac{IEEE} 802.15.4, \ac{IEEE} 802.15.1 and \ac{IEEE} 802.11. 
    \item ZigBee, 6LoWPAN, Bluetooth and Wireless M-Bus protocol stacks and technologies. 
    \item Operating system Contiki\footnote{Contiki is an open source operating system for networked, memory-constrained systems with a particular focus on low-power wireless Internet of Things devices.}. 
    \item Connection to the Internet via Wi-Fi, Ethernet or GSM/GPRS; 
    \item Arduino integrated development environment.
    \item A variety of energy supply options including battery, solar panel and external power supply. 
\end{itemize}

\begin{figure}[h!]
\centering
\begin{SubFloat}
	{\label{fig:cap2:vesnapic}%
	\scriptsize{Picture of VESNA.}}%
	\includegraphics[angle=0,width=0.4\textwidth]%
	{Imagenes/Vectorial/Capitulo2/vesna}%
\end{SubFloat}
\qquad
\begin{SubFloat}
	{\label{fig:cap2:sne}%
	\scriptsize{Picture of SNE-ISMTV-UHF (top) mounted on a VESNA sensor node (bottom).}}%
	\includegraphics[angle=0,width=0.4\textwidth]%
	{Imagenes/Bitmap/Capitulo2/vesnacomp}%
\end{SubFloat}
\caption{Pictures of VESNA and SNE-ISMTV modules.}
\label{fig:cap2:sneismtvvesna}
\end{figure}

To enable \ac{CR} capabilities on VESNA, a radio front-end was developed, the SNE-ISMTV \cite{sneismtv}. Different versions were capable of operating at three frequency bands of interest (TV broadcast part of the UHF band, 868 MHz and 2.4 GHz ISM band) and flexible enough to enable various user scenarios. 

SNE-ISMTV-UHF contains a VHF and UHF TV band receiver based on the NXP TDA18219HN silicon tuner and was designed for spectrum sensing experimentation in TV white spaces. SNE-ISMTV-UHF can receive signals from 470 to 870 MHz with tunable channel filters. Using an analogue detector it can be used for energy detection experiments. The detector is also coupled with an \ac{ADC} optionally providing digital signal processing.

SNE-ISMTV-868 and SNE-ISMTV-2400 are based on the TI CC1101 and TI CC2500 integrated circuits respectively and are identical in design and operation except for the supported frequency band. These transceivers contain software-reconfigurable radio front-ends. They include an integrated energy detector and several modems that enable different signal processing modes.

This platform does not offer frequency agility over several frequency bands since it just hosts possibilities for a single \ac{RF} front-end and this front-end supports fixed bands. It does not suppose a complete \ac{CWSN} solution.

\item \emph{WaspMote}. It is an ultra low-power consumption sensor node developed and marketed by Libelium\footnote{http://www.libelium.com} based on an ATmega1281 \ac{MCU}. It provides a \ac{RI} socket and several standardized input/output options. Libelium offers up to 60 different sensor expansion boards and 6 different radio options. An attachable board enables connection for two \ac{RI}s. It is thought to be a versatile node valid for a wide range of \ac{WSN} applications.

WaspMote, however, does not give chances for more than two \ac{RI}s. Frequency agility is, hence, bounded to two spectrum bands. Moreover, it does not give software support for easy radio management and application development. It still supposes a poor \ac{CWSN} solution.

\begin{figure}[h!]
\centering
%
\begin{SubFloat}
	{\label{fig:cap2:waspmotelogo}%
	\scriptsize{WaspMote logo.}}%
	\includegraphics[angle=0,width=0.3\textwidth]%
	{Imagenes/Vectorial/Capitulo2/waspmotelogo}%
\end{SubFloat}
\qquad
\begin{SubFloat}
	{\label{fig:cap2:waspmote}%
	\scriptsize{Picture of Libelium WaspMote.}}%
	\includegraphics[angle=0,width=0.3\textwidth]%
	{Imagenes/Bitmap/Capitulo2/waspmote}%
\end{SubFloat}
\caption{Libelium WaspMote.}
\label{fig:cap2:waspmotepics}
\end{figure}

\item \emph{Meshlium}. Meshlium, also from Libelium, works as the gateway for WaspMote \ac{SN}. It reads the sensor frames coming from the nodes and store them within its internal data base or external cloud systems on the Internet. The frames coming from WaspMote are normally received by the 802.15.4/ZigBee radio and sent to the Internet using Ethernet, Wi-Fi and 3G interfaces.

Even though Meshlium posses several interfaces, it can not be considered a \ac{WSN}. This platform is strictly thought as a gateway, so it is not a valid \ac{CWSN} solution.

\begin{figure}[!h]
\centering
%
\begin{SubFloat}
	{\label{fig:cap2:meshliummap}%
	\scriptsize{Meshlium operation mode.}}%
	\includegraphics[angle=0,width=0.4\textwidth]%
	{Imagenes/Bitmap/Capitulo2/meshliummap}%
\end{SubFloat}
\qquad
\begin{SubFloat}
	{\label{fig:cap2:meshlium}%
	\scriptsize{Picture of Libelium Meshlium.}}%
	\includegraphics[angle=0,width=0.4\textwidth]%
	{Imagenes/Vectorial/Capitulo2/meshlium}%
\end{SubFloat}
\caption{Libelium Meshlium.}
\label{fig:cap2:meshliumpics}
\end{figure}

\end{itemize}

European Commission \ac{FP7} \cite{fp7} includes two major projects involving \ac{CR} technologies: CogEU \cite{cogeu} and CREW \cite{crew}. CogEu looks at technical, business and regulatory issues which arise in exploiting TV White Spaces across Europe, while CREW main target is to establish an open federated test platform, which facilitates experimentally-driven research on advanced spectrum sensing, cognitive radio and cognitive networking strategies in view of horizontal and vertical spectrum sharing in licensed and unlicensed bands.

\figuraEx{Bitmap/Capitulo2/crew}{width=.7\textwidth}{fig:cap2:crew}{CREW Project scheme overview, obtained from \cite{crew}.}{CREW Project scheme overview.}

The CREW platform incorporates 5 individual wireless test-beds\footnote{Development platforms consisting on a set of interacting devices placed at researching centers employed to obtain data and try algorithms to feedback simulators and node devices themselves.}, as viewed at Figure \ref{fig:cap2:crew}, that incorporate diverse wireless technologies (heterogeneous \ac{ISM}, heterogeneous licensed, cellular, wireless sensor, heterogeneous outdoor) augmented with State-of-the-art cognitive sensing platforms. Three out of these five test-beds are involved in \ac{WSN} technologies: w-iLab.t, TWIST, and LOG-a-TEC test-beds. These three platforms are explained further on together with the remaining test-bed platforms.

Main current \ac{CWSN} test-beds are described below. Most of the existing, and here mentioned, test-beds do not include real \ac{WSN} nodes, but emulating devices. If they host real \ac{WSN} nodes, these nodes still do not meet cognitive features such as radio agility:  

\begin{itemize}
\item \emph{TWIST (TKN Wireless Indoor Sensor network Test-bed)} \cite{twist}. Developed by the \ac{TKN} at the \ac{TU} Berlin, is one of the largest academic test-beds for experimenting with \ac{WSN} applications at indoor deployment scenarios. It provides basic services like node configuration, network-wide programming, out-of-band extraction of debug data and gathering of application data, as well as several novel features such as active power supply control of the nodes. The self-configuration capability, the use of hardware with standardized interfaces and open-source software makes the TWIST architecture scalable, affordable, and easily replicable. TWIST can be accessed locally or remotely via web interface.

\figura{Bitmap/Capitulo2/twist}{width=.7\textwidth}{fig:twistmap}%
{One floor deployment of TWIST test-bed.}

It spans the three floors, more than 40 rooms, of an office building at the TU Berlin campus, resulting in more than 1500 m$^{2}$ of instrumented office space. Currently the setup is populated with 102 TmoteSky \cite{tmotesky} nodes operating over 2.4 GHz and 102 eyesIFX \cite{eyes} nodes over 868 MHz resulting in a fairly regular grid deployment pattern with intra node distance of 3 m. A set of low-cost \ac{USB} WiSpy Spectrum Analyzers for the 2.4 GHz band dig over data and store it on a repository, this information is used as data-base for the \ac{CR} algorithms and spectrum use optimization.

It must be clarified that nodes employed at TWIST do not posses frequency agility beyond their single frequency band. Hence, none of them can be considered \ac{CWSN} nodes. Even though the test-bed supposes an approach, it is not yet a completely valid and trustable \ac{CWSN} platform.  

\item \emph{LOG-a-TEC} \cite{logatec}. The \ac{CR} experimentation part of the LOG-a-TEC test-bed is located in the municipality of Logatec, Slovenia. LOG-a-TEC is an outdoor experimental facility supporting cognitive radio networking experimentation in ISM and TV bands. It is equipped with 50 VESNA \cite{vesna} platforms and VSE-ISMTV \cite{sneismtv} boards grouped in two clusters displayed at Figure \ref{fig:cap2:logatec}: one in the city center and one in the industrial zone. The nodes support experimentation in ISM 868 MHz (blue), ISM 2.4 GHz (red) and TV 42 - 870 MHz (green). A small mirror, consisting of 10 nodes, is also available at Jozef Stefan Institute campus.

Same with TWIST tes-tbed, nodes employed here lack of frequency agility beyond their single frequency band. Hence, none of them can be considered \ac{CWSN} nodes.
 
\figuraEx{Bitmap/Capitulo2/logatec}{width=.6\textwidth}{fig:cap2:logatec}{LOG-a-TEC nodes clusters deployment, obtained from \cite{logatec}.}{LOG-a-TEC nodes clusters deployment.}

\item \emph{w-iLab.t}. It includes both a wireless mesh and sensor network infrastructure. These networks can interact with each other, making possible to test advanced scenarios. The test-bed is equipped with a custom designed hardware solutions, called EE (Environment Emulator). Using the EE, it is possible to emulate the behavior of any type of sensor or actuator without the need for real sensor/actuator hardware. 
The w-iLab.t test-bed is deployed within an office building of 18 x 90 m and it is spread out over three floors. Figure \ref{fig:wilab} shows some of the 200 node locations located within the iMinds \cite{iminds} office premises. 

\figuraEx{Bitmap/Capitulo2/wilab}{width=.6\textwidth}{fig:wilab}{Node locations of the w-iLab.t test-bed, obtained from \cite{crew}.}{Node locations of the w-iLab.t test-bed.}

Every w-iLab.t node is generic and is equipped with one or more TmoteSky \cite{tmotesky} nodes, an iNode with 2 Wi-Fi 802.11 radios, the environment emulator and a Bluetooth interface. iNodes are Alix 3C3 \cite{alix} devices running Linux. These are mini PC's equipped with Ethernet, \ac{USB}, serial, \ac{VGA}, audio and two \ac{IEEE} 802.11 a/b/g interfaces. Finally, the EE is located in between the iNode and the TmoteSky. 

Together with the previous mentioned test-beds, devices used for w-iLab do not meet \ac{CWSN} features since they are either standard \ac{WSN} nodes or complete mini PC modules.

\item \emph{VT-CORNET (Virginia Tech COgnitive Radio NEtwork Test-bed)} \cite{vtcornet}. It is a collection of \ac{CR} nodes deployed throughout a building on the Virginia Tech main campus. The test-bed is openly available for the purpose of performing advanced \ac{CRN}. The test-bed consists of a total of 48 static \ac{SDR} nodes based on USRP2\footnote{The \ac{USRP} family features a modular architecture with interchangeable daughter-board modules that serve as the RF front-end.}, located at the ceiling throughout the ICTAS building, being placed 12 nodes per floor. In addition to the static nodes, low-power mobile nodes will also be available in order provide a research environment that accommodates a wide variety of research topics.

\figura{Vectorial/Capitulo2/vtcornetmap}{width=.6\textwidth}{fig:vtcornetmap}%
{Deployment of VT-CORNET test-bed.}

Remotely accessible, emphasis is on cognitive engine design, self-organizing networking algorithms, and network security. The test-bed enables researchers to implement and test their algorithms, protocols, applications, and hardware technologies within a realistic environment.

Devices used at this platform are not real \ac{WSN} nodes since their \ac{RI} are based on \ac{SDR}. These \ac{RI}s are not suitable for \ac{WSN} regarding their high power consumption. Despite their possibilities for frequency mobility, the solution implemented by this test-bed is not a real \ac{CWSN} implementation.  

\item \emph{FIT/CorteXlab - Cognitive Radio Test-bed} \cite{fitcortex}. This test-bed, still under deployment, will be hosted at INSA-Lyon, in France. CorteXlab will suppose one more researching center of the Future Internet of Things project \cite{fit}. CorteXlab will use the network architecture developed in SensLAB \cite{senslab} and will integrate \ac{SDR} nodes to offer a remotely accessible development platform for distributed \ac{CR}. Reconfigurability, compatibility, coexistence and even cooperation between \ac{SDR} nodes will be evaluable. A large set of heterogeneous \ac{SDR} nodes (\ac{MIMO} nodes, \ac{SISO} nodes and \ac{WSN} nodes) together with classical sensor nodes will permit a full experimental evaluation.

\figura{Vectorial/Capitulo2/cortexlablogo}{width=.3\textwidth}{fig:cortexlablogo}{CorteXlab test-bed logo.}

The test-bed will be installed in 180 m$^{2}$ shielded room (isolated from any external interference) and also partly covered with \ac{EM} absorbing material. Depending on the set of enabled frequencies, the design of the room will enable to control the radio channel characteristics (number of paths, delays, etc.) and to ensure a high level of reproducibility of experimentations.

\figuraEx{Bitmap/Capitulo2/cortexlabmap}{width=.5\textwidth}{fig:cortexlabmap}{CorteXlab test-bed deployment, obtained from \cite{fitcortex}.}{CorteXlab test-bed deployment.}

Nodes will be uniformly distributed. These nodes will be able to accept \ac{PHY} layer implementations on both hardware, i.e. \ac{FPGA}, and software on general purpose CPUs.  Furthermore, they will be capable of outputting performance metrics, such as throughput, \ac{BER} and power consumption. The nodes are interconnected through a high speed Ethernet link, in order to allow for cooperation and sharing of information. A unified server will also be available for starting, coordinating and collecting the results of experimentations. Experimentations themselves can be from \ac{PHY} layer up, including the possibility of cross-layer interactions.

Despite the large amount of devices employed at this test-bed platform that combines different architectures and nodes, none of them are real \ac{CWSN} devices. Frequency mobility is achieved over \ac{SDR} modules, which can not even be considered for \ac{WSN} implementations. \ac{SDR} devices gather features not \ac{WSN}-compatible that collide with low-resources and low-consumption natures.

\end{itemize}

%-------------------------------------------------------------------
\subsubsection{Standards}
%-------------------------------------------------------------------

Standardization is at the core of the current and future success of cognitive radio. The \ac{IEEE} 802.22 \cite{80222web} working group is developing what will be the first cognitive radio-based international standard for \ac{WRAN} with tangible frequency bands for its operation. It will operate over unused television channels. One system such as Unlicensed-Band Cognitive Radio, which can only utilize unlicensed parts of the \ac{RF} spectrum, is described in the \ac{IEEE} 802.15 Task Group 2 \cite{802152} specifications. This standard focus on the coexistence of \ac{IEEE} 802.11 and Bluetooth. Many other standards such as Wi-Fi (\ac{IEEE} 802.11), Zigbee (\ac{IEEE} 802.15.4), and WiMAX (\ac{IEEE} 802.16) already include some degree of \ac{CR} technology today. 

%-------------------------------------------------------------------
\section{Contribution}
%-------------------------------------------------------------------
\label{cap2:sec:cotribution}
%-------------------------------------------------------------------

It has shown how \ac{CWSN} is still an immature researching field where scarce devices are found, and all of them incomplete. Real and complete devices to allow developers to try security, energy, \ac{QOS}, and spectrum optimization through new algorithms and strategies, are needed. Facing this need, the \ac{LSI} proposes the implementation of a complete development platform, hardware and software, fully oriented to \ac{CWSN} investigation, able to truly implement real \ac{WSN} applications. This goal defines and frames this Master Thesis.   

%-------------------------------------------------------------------
%\section*{\NotasBibliograficas}
%-------------------------------------------------------------------
%\TocNotasBibliograficas

%Citamos algo para que aparezca en la bibliografía\ldots
%\citep{ldesc2e}

%\medskip

%Y también ponemos el acrónimo \ac{CVS} para que no cruja.

%Ten en cuenta que si no quieres acrónimos (o no quieres que te falle la compilación en ``release'' mientras no tengas ninguno) basta con que no definas la constante \verb+\acronimosEnRelease+ (en \texttt{config.tex}).


%-------------------------------------------------------------------
%\section*{\ProximoCapitulo}
%-------------------------------------------------------------------
%\TocProximoCapitulo

%...

% Variable local para emacs, para  que encuentre el fichero maestro de
% compilación y funcionen mejor algunas teclas rápidas de AucTeX
%%%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../Tesis.tex"
%%% End:
